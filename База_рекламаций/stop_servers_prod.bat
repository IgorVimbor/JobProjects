@echo off
:: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–¥–∏—Ä–æ–≤–∫—É UTF-8 –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä—É—Å—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
chcp 65001 > nul
title Stop servers
echo        ========================================
echo                  –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤
echo        ========================================

:: 1. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–µ—Ä Nginx
echo.
echo        –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ Nginx...
timeout /t 1 /nobreak > nul

cd /d "C:\nginx-1.28.0"
:: –î–æ–±–∞–≤–ª–µ–Ω–æ 2>nul, —á—Ç–æ–±—ã —Å–∫—Ä—ã—Ç—å –æ—à–∏–±–∫—É "—Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω" –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º dev-—Å–µ—Ä–≤–µ—Ä.
.\nginx.exe -s stop 2>nul
::.\nginx.exe -s stop

:: –í—ã–≤–æ–¥–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
echo        Nginx –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!
timeout /t 1 /nobreak > nul
:: ---------------------------------------------------------------------------------------------

:: 2. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–µ—Ä Django (runserver –∏–ª–∏ Waitress)
echo.
echo        –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ Django...
timeout /t 1 /nobreak > nul
:: –ù–∞—Ö–æ–¥–∏–º –æ–∫–Ω–æ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "Django" –∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ–º –µ–≥–æ (/F)
:: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –≤—ã–≤–æ–¥ > nul, —á—Ç–æ–±—ã —Å–∫—Ä—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
taskkill /FI "WINDOWTITLE eq Django" /T /F > nul
echo        Django –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!
:: ---------------------------------------------------------------------------------------------

@REM echo.
@REM timeout /t 2 /nobreak > nul
@REM echo        ========================================
@REM echo                –í—Å–µ —Å–µ—Ä–≤–µ—Ä—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!
@REM echo        ========================================
@REM echo.
@REM echo        –≠—Ç–æ –æ–∫–Ω–æ –∑–∞–∫—Ä–æ–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏...
@REM timeout /t 3 /nobreak > nul
@REM :: –ó–∞–∫—Ä—ã–≤–∞–µ–º –æ–∫–Ω–æ
@REM exit
@REM :: ---------------------------------------------------------------------------------------------

:: 3. –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ backup_and_commit.py –±—ç–∫–∞–ø–∞ –∏ –∫–æ–º–º–∏—Ç–∞ Git
echo.
echo        ==========================================
echo                  –ó–∞–ø—É—Å–∫ –±—ç–∫–∞–ø–∞ –∏ –∫–æ–º–º–∏—Ç–∞
echo        ==========================================
echo.

:: –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
cd /d "E:\MyRepositories\JobProjects\–ë–∞–∑–∞_—Ä–µ–∫–ª–∞–º–∞—Ü–∏–π"
call r-hub_venv\Scripts\activate

:: –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd reclamationhub

:: –ó–∞–ø—É—Å–∫–∞–µ–º Python-—Å–∫—Ä–∏–ø—Ç
echo        –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è Python-—Å–∫—Ä–∏–ø—Ç backup_and_commit.py ...
echo.
@REM echo (–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫ —Å–º–æ—Ç—Ä–∏ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ –ª–æ–≥–∞—Ö –∏–ª–∏ –≤ –æ–∫–Ω–µ)
python backup_and_commit.py

echo.
echo        –ë—ç–∫–∞–ø –∏ –∫–æ–º–º–∏—Ç –∑–∞–≤–µ—Ä—à–µ–Ω—ã.
:: ---------------------------------------------------------------------------------------------

:: 4. –ó–∞–ø—É—Å–∫ Python-—Å–∫—Ä–∏–ø—Ç–∞ email_send.py –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å—å–º–∞ —Å —Ñ–∏–∫—Å—Ç—É—Ä–æ–π –ë–î
echo.
echo        –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è Python-—Å–∫—Ä–∏–ø—Ç email_send.py ...
echo.
python email_send.py

echo.
echo        –ü–∏—Å—å–º–æ —Å –≤–ª–æ–∂–µ–Ω–∏–µ–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ.
:: ---------------------------------------------------------------------------------------------

timeout /t 2 /nobreak > nul
echo.
echo        ================================================
echo        –°–µ—Ä–≤–µ—Ä—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±—ç–∫–∞–ø–∞ –∑–∞–≤–µ—Ä—à–µ–Ω—ã!
echo        ================================================
echo.
echo        –≠—Ç–æ –æ–∫–Ω–æ –∑–∞–∫—Ä–æ–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏... –î–û –°–í–ò–î–ê–ù–ò–Ø! üòä
timeout /t 4 /nobreak > nul
:: –ó–∞–∫—Ä—ã–≤–∞–µ–º –æ–∫–Ω–æ
exit

@REM echo.
@REM echo        ....... –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è —ç—Ç–æ–≥–æ –æ–∫–Ω–∞ .......
@REM echo.
@REM pause
:: ---------------------------------------------------------------------------------------------